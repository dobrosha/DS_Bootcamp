### Задание

**Замена строк в файле**

Директория для сдачи задания: ex03/  
Файлы для сдачи: cleaner.sh, hh_positions.csv  
Разрешенные команды: нет ограничений

Исходные данные неорганизованы. Перед началом анализа вам нужно провести предварительную обработку. В этом упражнении вы продолжите эту работу. Если вы посмотрите на файл из предыдущего задания, вы увидите, что каждое название позиции содержит "Data Scientist" (это проверять не обязательно). Это не удивительно, поскольку мы использовали эту строку как ключевое слово для поиска в API HeadHunter. Но для нас, как и для алгоритмов, это не дает никакой полезной информации. Если честно, это просто шум, который ухудшает анализ данных.

Напишите оболочечный скрипт под названием `cleaner.sh`, который:

1. Извлекает слова “Junior”, “Middle”, “Senior” из названий позиций. Если в названии нет ни одного из этих слов, используйте “-” (например, “Senior Data Scientist” -> “Senior”, “analyst /(data scientist)” -> “-”, “Специалист / data scientist (big data, прогностическая аналитика, data mining)” -> “-”).
2. Если их несколько, сохраните их все (например, “Middle/Senior Data Scientist” -> “Middle/Senior”).
3. Сохраняет результат в CSV-файл `hh_positions.csv`.

CSV-файл должен сохранять заголовки в первой строке и быть отсортированным согласно предыдущему заданию.  
Ваш скрипт должен быть исполняемым. Интерпретатор для выполнения — /bin/sh.  
Поместите ваш оболочечный скрипт, а также результат обработки в папку `ex03` в корневом каталоге вашего репозитория.

### Решение задания

Для выполнения этого задания мы создадим скрипт `cleaner.sh`, который обработает CSV-файл, изменяя названия позиций согласно заданным условиям. Мы также будем использовать предыдущий результат (`hh_sorted.csv`), чтобы сохранить заголовки и порядок строк.

#### Шаги решения:

1. **Извлечение заголовка и данных**:
   - Извлекаем заголовок и данные из файла `hh_sorted.csv`.
   
2. **Обработка данных**:
   - В каждой строке ищем и заменяем названия позиций на соответствующие уровни (`Junior`, `Middle`, `Senior`) или `-` если они отсутствуют.

3. **Сохранение результата**:
   - Объединяем заголовок с обработанными данными и сохраняем в новый файл `hh_positions.csv`.


### Объяснение скрипта

1. **Проверка наличия файла**:
   - Проверяет, существует ли файл `hh_sorted.csv`. Если нет, выводит сообщение об ошибке и завершает выполнение.

2. **Извлечение заголовка**:
   - `head -n 1 hh_sorted.csv > header.csv` сохраняет первую строку (заголовок) в отдельный файл `header.csv`.

3. **Обработка данных**:
   - Используем `awk` для обработки данных. 
     - Определяем ключевые слова (Junior, Middle, Senior).
     - В цикле проверяем, содержится ли ключевое слово в названии позиции и формируем результат.
     - Если ключевые слова найдены, их все сохраняем в формате "Middle/Senior". Если нет, используем "-".

4. **Объединение заголовка и данных**:
   - `cat header.csv body_cleaned.csv > hh_positions.csv` объединяет заголовок и очищенные данные в новый файл `hh_positions.csv`.

5. **Очистка временных файлов**:
   - Удаляет временные файлы `header.csv` и `body_cleaned.csv`.

6. **Вывод результата**:
   - Проверяет успешность выполнения и выводит соответствующее сообщение.
   
    


### Запуск скрипта

Чтобы сделать скрипт исполняемым, нужно выполнить команду:

```sh
chmod +x cleaner.sh
```

Запуск скрипта выполняется так:

```sh
./cleaner.sh
```